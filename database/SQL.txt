CREATE TABLE CANDIDATE (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    FIRST_NAME TEXT NOT NULL, 
    LAST_NAME TEXT NOT NULL, 
    EMAIL TEXT NOT NULL UNIQUE, 
    PHONE TEXT NOT NULL UNIQUE, 
    RESUME_URL TEXT NOT NULL,
    UPDATED_DATE DATETIME NOT NULL
);

CREATE TABLE APPLICATION (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    CANDIDATE_ID INTEGER NOT NULL,
    STATUS TEXT NOT NULL,
    FOREIGN KEY (CANDIDATE_ID) REFERENCES CANDIDATE(ID)
);

CREATE TABLE JOB_APPLICATION (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    JOB_ID INTEGER NOT NULL,
    APPLICATION_ID INTEGER NOT NULL,
    FOREIGN KEY (JOB_ID) REFERENCES JOB(ID),
    FOREIGN KEY (APPLICATION_ID) REFERENCES APPLICATION(ID)
);

CREATE TABLE JOB (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    DESCRIPTION TEXT NOT NULL, 
    STATUS TEXT NOT NULL
);
